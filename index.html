<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfume: Lattice Performer (MoveNet + Three.js + Triad)</title>
    <style>
        body { margin: 0; overflow: hidden; background-color: #000; font-family: monospace; }
        #canvas-container {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 1;
        }
        #debug-layer {
            position: absolute; top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none; z-index: 2;
        }
        #start-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85);
            display: flex; justify-content: center; align-items: center;
            z-index: 10; cursor: pointer;
            transition: opacity 0.5s;
        }
        #start-text {
            color: #88eeee; font-size: 20px; border: 1px solid #88eeee; padding: 20px;
            text-transform: uppercase; letter-spacing: 2px;
            animation: pulseText 2s infinite;
        }
        @keyframes pulseText { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }
        #ui-layer {
            position: absolute; top: 10px; left: 10px;
            color: #88eeee; z-index: 3; pointer-events: none;
            text-shadow: 0 0 5px #88eeee;
            font-size: 12px;
        }
        video { display: none; }
    </style>
</head>
<body>

    <div id="start-overlay">
        <div id="start-text">Click to Engage System</div>
    </div>

    <div id="ui-layer">
        <div id="status" style="display:none;"></div>
        <div id="metrics" style="display:none; margin-top: 6px; white-space: pre;"></div>
    </div>

    <div id="canvas-container"></div>
    <canvas id="debug-layer"></canvas>
    <video id="video" playsinline></video>

    <!-- Globals for TFJS / Pose-Detection / TWEEN (UMD) -->
    <!-- Note: In a production build, these should be imported as ES modules to avoid globals,
         but for compatibility with existing TFJS patterns we can keep them or move them to package.json imports.
         Since we added them to package.json, we will let Vite handle them via import in the modules. -->

    <script type="module" src="/src/main.js"></script>
</body>
</html>
